<!DOCTYPE html><html><head><title>ReadsUtils</title><link rel="stylesheet" href="KIDLspec.css"></head><body><div class="include"><span class="keyword">#include</span><span class="space"></span><span>&lt;</span><span class="name"><a href="./KBaseCommon.html">KBaseCommon</a></span><span>&gt;</span></div><div class="module"><div class="comment"><div>/*</div><div><span class="space"></span><span>*</span><span class="space"></span><span>Utilities for handling reads files.</span></div><div><span class="space"></span><span>*/</span></div></div><span class="keyword">module</span><span class="space"></span><span class="name">ReadsUtils</span><span class="space"></span><span>{</span><br><br><div><span class="typedef"><div class="comment"><div><span class="tab"></span><span>/*</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>A boolean - 0 for false, 1 for true.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span><span class="annotation">@range</span><span class="space"></span><span>(0, 1)</span></span></div><div><span class="tab"></span><span class="space"></span><span>*/</span></div></div><span class="tab"></span><span class="keyword">typedef</span><span class="space"></span><span class="primitive">int</span><span class="space"></span><span class="name" id="typedefReadsUtils.boolean">boolean</span><span>;</span></span></div><br><div><span class="typedef"><div class="comment"><div><span class="tab"></span><span>/*</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>Input to the validateFASTQ function.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span></span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span>Required parameters:</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span>file_path - the path to the file to validate.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span></span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span>Optional parameters:</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span>interleaved - whether the file is interleaved or not. Setting this to</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span>true disables sequence ID checks.</span></div><div><span class="tab"></span><span class="space"></span><span>*/</span></div></div><span class="tab"></span><span class="keyword">typedef</span><span class="space"></span><span><span class="primitive">structure</span><span class="space"></span><span>{</span><div><span><span class="tab"></span><span class="tab"></span><span class="primitive">string</span><span class="space"></span><span class="name">file_path</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="name"><a href="#typedefReadsUtils.boolean">boolean</a></span><span class="space"></span><span class="name">interleaved</span><span>;</span></span></div><span class="tab"></span><span>}</span></span><span class="space"></span><span class="name" id="typedefReadsUtils.ValidateFASTQParams">ValidateFASTQParams</span><span>;</span></span></div><br><div><span class="typedef"><div class="comment"><div><span class="tab"></span><span>/*</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>The output of the validateFASTQ function.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span></span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>validated - whether the file validated successfully or not.</span></div><div><span class="tab"></span><span class="space"></span><span>*/</span></div></div><span class="tab"></span><span class="keyword">typedef</span><span class="space"></span><span><span class="primitive">structure</span><span class="space"></span><span>{</span><div><span><span class="tab"></span><span class="tab"></span><span class="name"><a href="#typedefReadsUtils.boolean">boolean</a></span><span class="space"></span><span class="name">validated</span><span>;</span></span></div><span class="tab"></span><span>}</span></span><span class="space"></span><span class="name" id="typedefReadsUtils.ValidateFASTQOutput">ValidateFASTQOutput</span><span>;</span></span></div><br><div><span class="funcdef"><div class="comment"><div><span class="tab"></span><span>/*</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>Validate a FASTQ file. The file extensions .fq, .fnq, and .fastq</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>are accepted. Note that prior to validation the file will be altered in</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>place to remove blank lines if any exist.</span></div><div><span class="tab"></span><span class="space"></span><span>*/</span></div></div><span class="tab"></span><span class="keyword">funcdef</span><span class="space"></span><span class="name" id="funcdefReadsUtils.validateFASTQ">validateFASTQ</span><span>(</span><span class="parameters"><span class="parameter"><span><span class="primitive">list</span><span>&lt;</span><span class="name"><a href="#typedefReadsUtils.ValidateFASTQParams">ValidateFASTQParams</a></span><span>&gt;</span></span><span class="space"></span><span class="name">params</span></span></span><span>)</span><span class="space"></span><span class="keyword">returns</span><span>(</span><span class="returns"><span class="parameter"><span><span class="primitive">list</span><span>&lt;</span><span class="name"><a href="#typedefReadsUtils.ValidateFASTQOutput">ValidateFASTQOutput</a></span><span>&gt;</span></span><span class="space"></span><span class="name">out</span></span></span><span>)</span><span class="space"></span><span class="keyword">authentication</span><span class="space"></span><span class="keyword">required</span><span>;</span></span></div><br><div><span class="typedef"><div class="comment"><div><span class="tab"></span><span>/*</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>Input to the upload_reads function.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span></span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>Required parameters:</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>fwd_id - the id of the shock node containing the reads data file:</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span>either single end reads, forward/left reads, or interleaved reads.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>sequencing_tech - the sequencing technology used to produce the</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span>reads.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span></span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>One of:</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>wsid - the id of the workspace where the reads will be saved</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span>(preferred).</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>wsname - the name of the workspace where the reads will be saved.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span></span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>One of:</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>objid - the id of the workspace object to save over</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>name - the name to which the workspace object will be saved</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span></span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>Optional parameters:</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>rev_id - the shock node id containing the reverse/right reads for</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span>paired end, non-interleaved reads.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>single_genome - whether the reads are from a single genome or a</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span>metagenome. Default is single genome.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>strain - information about the organism strain</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span>that was sequenced.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>source - information about the organism source.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>interleaved - specify that the fwd reads file is an interleaved paired</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span>end reads file as opposed to a single end reads file. Default true,</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span>ignored if rev_id is specified.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>read_orientation_outward - whether the read orientation is outward</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span>from the set of primers. Default is false and is ignored for</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span>single end reads.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>insert_size_mean - the mean size of the genetic fragments. Ignored for</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span>single end reads.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>insert_size_std_dev - the standard deviation of the size of the</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span>genetic fragments. Ignored for single end reads.</span></div><div><span class="tab"></span><span class="space"></span><span>*/</span></div></div><span class="tab"></span><span class="keyword">typedef</span><span class="space"></span><span><span class="primitive">structure</span><span class="space"></span><span>{</span><div><span><span class="tab"></span><span class="tab"></span><span class="primitive">string</span><span class="space"></span><span class="name">fwd_id</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="primitive">int</span><span class="space"></span><span class="name">wsid</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="primitive">string</span><span class="space"></span><span class="name">wsname</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="primitive">int</span><span class="space"></span><span class="name">objid</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="primitive">string</span><span class="space"></span><span class="name">name</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="primitive">string</span><span class="space"></span><span class="name">rev_id</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="primitive">string</span><span class="space"></span><span class="name">sequencing_tech</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="name"><a href="#typedefReadsUtils.boolean">boolean</a></span><span class="space"></span><span class="name">single_genome</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="name"><a href="./KBaseCommon.html#typedefKBaseCommon.StrainInfo">KBaseCommon.StrainInfo</a></span><span class="space"></span><span class="name">strain</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="name"><a href="./KBaseCommon.html#typedefKBaseCommon.SourceInfo">KBaseCommon.SourceInfo</a></span><span class="space"></span><span class="name">source</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="name"><a href="#typedefReadsUtils.boolean">boolean</a></span><span class="space"></span><span class="name">interleaved</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="name"><a href="#typedefReadsUtils.boolean">boolean</a></span><span class="space"></span><span class="name">read_orientation_outward</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="primitive">float</span><span class="space"></span><span class="name">insert_size_mean</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="primitive">float</span><span class="space"></span><span class="name">insert_size_std_dev</span><span>;</span></span></div><span class="tab"></span><span>}</span></span><span class="space"></span><span class="name" id="typedefReadsUtils.UploadReadsParams">UploadReadsParams</span><span>;</span></span></div><br><div><span class="typedef"><div class="comment"><div><span class="tab"></span><span>/*</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>The output of the upload_reads function.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span></span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span>obj_ref - a reference to the new Workspace object in the form X/Y/Z,</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span>where X is the workspace ID, Y is the object ID, and Z is the</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span>version.</span></div><div><span class="tab"></span><span class="space"></span><span>*/</span></div></div><span class="tab"></span><span class="keyword">typedef</span><span class="space"></span><span><span class="primitive">structure</span><span class="space"></span><span>{</span><div><span><span class="tab"></span><span class="tab"></span><span class="primitive">string</span><span class="space"></span><span class="name">obj_ref</span><span>;</span></span></div><span class="tab"></span><span>}</span></span><span class="space"></span><span class="name" id="typedefReadsUtils.UploadReadsOutput">UploadReadsOutput</span><span>;</span></span></div><br><div><span class="funcdef"><div class="comment"><div><span class="tab"></span><span>/*</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>Loads a set of reads to KBase data stores.</span></div><div><span class="tab"></span><span class="space"></span><span>*/</span></div></div><span class="tab"></span><span class="keyword">funcdef</span><span class="space"></span><span class="name" id="funcdefReadsUtils.upload_reads">upload_reads</span><span>(</span><span class="parameters"><span class="parameter"><span class="name"><a href="#typedefReadsUtils.UploadReadsParams">UploadReadsParams</a></span><span class="space"></span><span class="name">params</span></span></span><span>)</span><span class="space"></span><span class="keyword">returns</span><span>(</span><span class="returns"><span class="parameter"><span class="name"><a href="#typedefReadsUtils.UploadReadsOutput">UploadReadsOutput</a></span></span></span><span>)</span><span class="space"></span><span class="keyword">authentication</span><span class="space"></span><span class="keyword">required</span><span>;</span></span></div><span>}</span><span>;</span></div><div class="index"><h2>Function Index</h2><div><span class="tab"></span><span class="name"><a href="#funcdefReadsUtils.upload_reads">upload_reads</a></span></div><div><span class="tab"></span><span class="name"><a href="#funcdefReadsUtils.validateFASTQ">validateFASTQ</a></span></div><h2>Type Index</h2><div><span class="tab"></span><span class="name"><a href="#typedefReadsUtils.boolean">boolean</a></span></div><div><span class="tab"></span><span class="name"><a href="#typedefReadsUtils.UploadReadsOutput">UploadReadsOutput</a></span></div><div><span class="tab"></span><span class="name"><a href="#typedefReadsUtils.UploadReadsParams">UploadReadsParams</a></span></div><div><span class="tab"></span><span class="name"><a href="#typedefReadsUtils.ValidateFASTQOutput">ValidateFASTQOutput</a></span></div><div><span class="tab"></span><span class="name"><a href="#typedefReadsUtils.ValidateFASTQParams">ValidateFASTQParams</a></span></div></div></body></html>